<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Property Store</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="css/loader.css" rel="stylesheet">
  </head>
  <body>
    <div class="container">
      <div class="page-header">
          <h1>Crypto Property <small>tracking your properties</small></h1>
      </div>      

      <div class="alert alert-warning login" role="alert">
          <h4 class="alert-heading">You are not logged in.</h4>
          <p>You need to login via Metamask.</p>
          <p class="mb-0"></p>
        </div>

      <ul class="nav nav-tabs hidden">
          <li role="presentation" class="active myproperties"><a href="#">My Properties</a></li>
          <li role="presentation" class="propertymarket"><a href="#">Property Market</a></li>
          <li role="presentation" class="registerproperty"><a href="#">Register Property</a></li>
      </ul>

      <div id="propertiesRow" class="row hidden" style="margin-top: 10px">
        <!-- PROPERTIES LOAD HERE -->
        <div class="alert alert-info" role="alert" style="margin-left: 15px;margin-right: 15px;">
            <h4 class="alert-heading">You own nothing for now.</h4>
            <p>You can buy something from market or register your own physically property.</p>
            <p class="mb-0"></p>
        </div>        
      </div>

      <div id="buyablePropertiesRow" class="row hidden" style="margin-top: 10px">
        <!-- PROPERTIES IN SALE LOAD HERE -->
        <div class="alert alert-info" role="alert" style="margin-left: 15px;margin-right: 15px;">
            <h4 class="alert-heading">Nothing on the market.</h4>
            <p>Please come later.</p>
            <p class="mb-0"></p>
        </div>         
      </div>

      <div id="registerPropertyRow" class="row hidden" style="margin-top: 10px">
          <div class="form-group required" style="margin-left: 15px;margin-right: 15px;">
              <label for="inputName">Name</label>
              <input type="text" required class="form-control" id="inputName" aria-describedby="nameHelp" placeholder="Enter property name">
              <small id="nameHelp" class="form-text text-muted">Name of property</small>
            </div> 
            <div class="form-group required" style="margin-left: 15px;margin-right: 15px;">
                <label for="inputDesc">Description</label>
                <input type="text" required class="form-control" id="inputDesc" aria-describedby="descHelp" placeholder="Enter property description">
                <small id="descHelp" class="form-text text-muted">Description of property</small>
              </div> 
              <div class="form-group" style="margin-left: 15px;margin-right: 15px;">
                  <button type="submit" class="btn btn-primary">Submit</button>
                </div>
      </div>
    </div>

    <div id="propertyTemplate" style="display: none;">
      <div class="property col-sm-12 col-md-6 col-lg-6">
        <div class="panel panel-default panel-pet">
          <div class="panel-heading">
            <h3 class="panel-title">Scrappy</h3>
          </div>
          <div class="panel-body">
            <img alt="140x140" data-src="holder.js/140x140" class="img-rounded img-center" style="width: 100%;" src="https://trca.ca/wp-content/uploads/2016/04/DaltonProperty.jpg" data-holder-rendered="true">
            <br/><br/>
            <span><strong>Description</strong>: <span class="property-desc"></span><br/></span>
            <span><strong>Creator</strong>: <span class="property-creator"></span><br/></span>
            <span><strong>Owner</strong>: <span class="property-owner"></span><br/></span>
            <span><strong>Status</strong>: <span class="property-status"></span><br/><br/></span>
            <span><strong>Price (ether)</strong>: <span class="property-price"></span><br/><br/></span>
            <button class="btn btn-danger btn-sell hidden" type="button" data-toggle="modal" data-target="#sellModal" data-id="0">Sell</button>
            <button class="btn btn-success btn-cancelsell hidden" type="button" data-id="0">Cancel Selling</button>
            <button class="btn btn-primary btn-buy hidden" type="button" data-id="0">Buy</button>
            <button class="btn btn-info btn-ownershistory" type="button" data-toggle="modal" data-target="#ownersModal" data-id="0">History of Owners</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="ownersModal" tabindex="-1" role="dialog" aria-labelledby="ownerModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="ownerModalLabel">Owners History</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
                <div id="loader">
                  <div class="dot"></div>
                  <div class="dot"></div>
                  <div class="dot"></div>
                  <div class="dot"></div>
                  <div class="dot"></div>
                  <div class="dot"></div>
                  <div class="dot"></div>
                  <div class="dot"></div>
                  <div class="lading"></div>
                </div>
                <div class="content">

                </div>             
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>

      <div class="modal fade" id="sellModal" tabindex="-1" role="dialog" aria-labelledby="sellModalLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="sellModalLabel">Set Selling Price</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <form data-toggle="validator" role="form">
              <div class="modal-body">
                  <div class="form-group">
                      <label for="inputPrice">Price</label>
                      <input type="number" class="form-control" id="inputPrice" required aria-describedby="priceHelp" placeholder="Enter ether number">
                      <small id="priceHelp" class="form-text text-muted">Asking price for sale.</small>
                    </div>            
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>
                <button type="submit" class="btn btn-primary" data-dismiss="modal">Sell</button>
              </div>
            </form>
            </div>
          </div>
        </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
    <script src="js/web3.min.js"></script>
    <script src="js/truffle-contract.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>
